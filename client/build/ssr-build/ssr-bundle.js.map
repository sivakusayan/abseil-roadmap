{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./styles/typography.css?0ad7","webpack:///../node_modules/preact-router/src/util.js","webpack:///../node_modules/preact-router/src/index.js","webpack:///./components/PostView/PostView.jsx","webpack:///./components/Loader/Loader.css?dd14","webpack:///./components/PostView/PostView.css?4f25","webpack:///./components/WelcomePost/WelcomePost.css?b968","webpack:///./index.jsx","webpack:///./components/PostListBox/PostListBox.css?b9b8","webpack:///external \"preact\"","webpack:///../node_modules/preact/hooks/src/index.js","webpack:///./components/Loader/Loader.jsx","webpack:///./components/PostListItem/PostListItem.jsx","webpack:///./components/PostListBox/PostListBox.jsx","webpack:///./styles/index.css?521d","webpack:///./components/PostListItem/PostListItem.css?28be","webpack:///./components/Home/Home.jsx","webpack:///./components/WelcomePost/WelcomePost.jsx"],"names":["a","c","n","t","r","s","i","o","e","match","u","f","split","length","decodeURIComponent","slice","join","d","replace","h","Math","max","v","charAt","l","p","m","indexOf","y","U","map","default","rank","index","props","path","g","url","R","k","C","push","splice","$","location","getCurrentLocation","pathname","search","canRoute","history","I","routeTo","M","getAttribute","b","stopImmediatePropagation","stopPropagation","preventDefault","W","ctrlKey","metaKey","altKey","shiftKey","button","target","localName","hasAttribute","parentNode","w","D","state","prototype","shouldComponentUpdate","static","onChange","children","setState","forceUpdate","componentWillMount","componentDidMount","addEventListener","listen","componentWillUnmount","componentWillUpdate","componentDidUpdate","filter","sort","render","matches","key","ref","previous","current","router","active","Provider","value","E","onClick","L","component","PostView","_ref","activePostId","isPostRead","updatePostRead","_useState","useState","_useState2","_slicedToArray","post","setPost","_useState3","_useState4","fetchRequestCount","setFetchRequestCount","setPostIfExists","_ref2","_asyncToGenerator","postId","prev","fetch","concat","then","res","json","content_html","route","_x2","apply","arguments","useEffect","window","scrollTo","handleToggleButtonClick","id","inert","class","style","Loader","isLoading","WelcomePost","Fragment","dangerouslySetInnerHTML","__html","title_html","rel","href","link","App","onRouteChange","localStorage","setItem","lastVisitedPostId","getItem","Router","Home","__b","__r","diffed","__c","unmount","__h","__H","__","__V","B","__N","every","call","forEach","__e","__s","z","_","F","A","T","q","context","sub","x","useDebugValue","P","componentDidCatch","V","__v","__m","shift","__P","requestAnimationFrame","j","some","clearTimeout","cancelAnimationFrame","setTimeout","loader","width","height","viewBox","xmlns","stroke","fill","transform","cx","cy","attributeName","begin","dur","values","calcMode","repeatCount","PostListItem","isActive","isRead","linkRef","useRef","className","scrollIntoViewIfNeeded","getBoundingClientRect","bottom","innerHeight","scrollIntoView","top","version","draw","PostListBox","readPosts","posts","setPosts","fetchedPosts","_toConsumableArray","Number","JSON","parse","setReadPosts","readPostsCopy","_objectSpread","stringify","section"],"mappings":"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","file":"ssr-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"EWOq\");\n","// extracted by mini-css-extract-plugin\nexport {};","const EMPTY = {};\n\nexport function assign(obj, props) {\n\t// eslint-disable-next-line guard-for-in\n\tfor (let i in props) {\n\t\tobj[i] = props[i];\n\t}\n\treturn obj;\n}\n\nexport function exec(url, route, opts) {\n\tlet reg = /(?:\\?([^#]*))?(#.*)?$/,\n\t\tc = url.match(reg),\n\t\tmatches = {},\n\t\tret;\n\tif (c && c[1]) {\n\t\tlet p = c[1].split('&');\n\t\tfor (let i = 0; i < p.length; i++) {\n\t\t\tlet r = p[i].split('=');\n\t\t\tmatches[decodeURIComponent(r[0])] = decodeURIComponent(\n\t\t\t\tr.slice(1).join('=')\n\t\t\t);\n\t\t}\n\t}\n\turl = segmentize(url.replace(reg, ''));\n\troute = segmentize(route || '');\n\tlet max = Math.max(url.length, route.length);\n\tfor (let i = 0; i < max; i++) {\n\t\tif (route[i] && route[i].charAt(0) === ':') {\n\t\t\tlet param = route[i].replace(/(^:|[+*?]+$)/g, ''),\n\t\t\t\tflags = (route[i].match(/[+*?]+$/) || EMPTY)[0] || '',\n\t\t\t\tplus = ~flags.indexOf('+'),\n\t\t\t\tstar = ~flags.indexOf('*'),\n\t\t\t\tval = url[i] || '';\n\t\t\tif (!val && !star && (flags.indexOf('?') < 0 || plus)) {\n\t\t\t\tret = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatches[param] = decodeURIComponent(val);\n\t\t\tif (plus || star) {\n\t\t\t\tmatches[param] = url.slice(i).map(decodeURIComponent).join('/');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t} else if (route[i] !== url[i]) {\n\t\t\tret = false;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (opts.default !== true && ret === false) return false;\n\treturn matches;\n}\n\nexport function pathRankSort(a, b) {\n\treturn a.rank < b.rank ? 1 : a.rank > b.rank ? -1 : a.index - b.index;\n}\n\n// filter out VNodes without attributes (which are unrankeable), and add `index`/`rank` properties to be used in sorting.\nexport function prepareVNodeForRanking(vnode, index) {\n\tvnode.index = index;\n\tvnode.rank = rankChild(vnode);\n\treturn vnode.props;\n}\n\nexport function segmentize(url) {\n\treturn url.replace(/(^\\/+|\\/+$)/g, '').split('/');\n}\n\nexport function rankSegment(segment) {\n\treturn segment.charAt(0) == ':'\n\t\t? 1 + '*+?'.indexOf(segment.charAt(segment.length - 1)) || 4\n\t\t: 5;\n}\n\nexport function rank(path) {\n\treturn segmentize(path).map(rankSegment).join('');\n}\n\nfunction rankChild(vnode) {\n\treturn vnode.props.default ? 0 : rank(vnode.props.path);\n}\n","import {\n\th,\n\tcloneElement,\n\tComponent,\n\ttoChildArray,\n\tcreateContext\n} from 'preact';\nimport { useContext, useState, useEffect } from 'preact/hooks';\nimport { exec, prepareVNodeForRanking, assign, pathRankSort } from './util';\n\nconst EMPTY = {};\nconst ROUTERS = [];\nconst SUBS = [];\nlet customHistory = null;\n\nconst GLOBAL_ROUTE_CONTEXT = {\n\turl: getCurrentUrl()\n};\n\nconst RouterContext = createContext(GLOBAL_ROUTE_CONTEXT);\n\nfunction useRouter() {\n\tconst ctx = useContext(RouterContext);\n\t// Note: this condition can't change without a remount, so it's a safe conditional hook call\n\tif (ctx === GLOBAL_ROUTE_CONTEXT) {\n\t\t// eslint-disable-next-line react-hooks/rules-of-hooks\n\t\tconst update = useState()[1];\n\t\t// eslint-disable-next-line react-hooks/rules-of-hooks\n\t\tuseEffect(() => {\n\t\t\tSUBS.push(update);\n\t\t\treturn () => SUBS.splice(SUBS.indexOf(update), 1);\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\t}, []);\n\t}\n\treturn [ctx, route];\n}\n\nfunction setUrl(url, type = 'push') {\n\tif (customHistory && customHistory[type]) {\n\t\tcustomHistory[type](url);\n\t} else if (typeof history !== 'undefined' && history[`${type}State`]) {\n\t\thistory[`${type}State`](null, null, url);\n\t}\n}\n\nfunction getCurrentUrl() {\n\tlet url;\n\tif (customHistory && customHistory.location) {\n\t\turl = customHistory.location;\n\t} else if (customHistory && customHistory.getCurrentLocation) {\n\t\turl = customHistory.getCurrentLocation();\n\t} else {\n\t\turl = typeof location !== 'undefined' ? location : EMPTY;\n\t}\n\treturn `${url.pathname || ''}${url.search || ''}`;\n}\n\nfunction route(url, replace = false) {\n\tif (typeof url !== 'string' && url.url) {\n\t\treplace = url.replace;\n\t\turl = url.url;\n\t}\n\n\t// only push URL into history if we can handle it\n\tif (canRoute(url)) {\n\t\tsetUrl(url, replace ? 'replace' : 'push');\n\t}\n\n\treturn routeTo(url);\n}\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n\tfor (let i = ROUTERS.length; i--; ) {\n\t\tif (ROUTERS[i].canRoute(url)) return true;\n\t}\n\treturn false;\n}\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n\tlet didRoute = false;\n\tfor (let i = 0; i < ROUTERS.length; i++) {\n\t\tif (ROUTERS[i].routeTo(url)) {\n\t\t\tdidRoute = true;\n\t\t}\n\t}\n\treturn didRoute;\n}\n\nfunction routeFromLink(node) {\n\t// only valid elements\n\tif (!node || !node.getAttribute) return;\n\n\tlet href = node.getAttribute('href'),\n\t\ttarget = node.getAttribute('target');\n\n\t// ignore links with targets and non-path URLs\n\tif (!href || !href.match(/^\\//g) || (target && !target.match(/^_?self$/i)))\n\t\treturn;\n\n\t// attempt to route, if no match simply cede control to browser\n\treturn route(href);\n}\n\nfunction prevent(e) {\n\tif (e.stopImmediatePropagation) e.stopImmediatePropagation();\n\tif (e.stopPropagation) e.stopPropagation();\n\te.preventDefault();\n\treturn false;\n}\n\n// Handles both delegated and direct-bound link clicks\nfunction delegateLinkHandler(e) {\n\t// ignore events the browser takes care of already:\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button) return;\n\n\tlet t = e.target;\n\tdo {\n\t\tif (t.localName === 'a' && t.getAttribute('href')) {\n\t\t\tif (t.hasAttribute('data-native') || t.hasAttribute('native')) return;\n\t\t\t// if link is handled by the router, prevent browser defaults\n\t\t\tif (routeFromLink(t)) {\n\t\t\t\treturn prevent(e);\n\t\t\t}\n\t\t}\n\t} while ((t = t.parentNode));\n}\n\nlet eventListenersInitialized = false;\n\nfunction initEventListeners() {\n\tif (eventListenersInitialized) return;\n\teventListenersInitialized = true;\n\n\tif (!customHistory) {\n\t\taddEventListener('popstate', () => {\n\t\t\trouteTo(getCurrentUrl());\n\t\t});\n\t}\n\taddEventListener('click', delegateLinkHandler);\n}\n\n/**\n * @class\n * @this {import('preact').Component}\n */\nfunction Router(props) {\n\tif (props.history) {\n\t\tcustomHistory = props.history;\n\t}\n\n\tthis.state = {\n\t\turl: props.url || getCurrentUrl()\n\t};\n}\n\n// @ts-ignore-next-line\nconst RouterProto = (Router.prototype = new Component());\n\nassign(RouterProto, {\n\tshouldComponentUpdate(props) {\n\t\tif (props.static !== true) return true;\n\t\treturn (\n\t\t\tprops.url !== this.props.url || props.onChange !== this.props.onChange\n\t\t);\n\t},\n\n\t/** Check if the given URL can be matched against any children */\n\tcanRoute(url) {\n\t\tconst children = toChildArray(this.props.children);\n\t\treturn this._getMatchingChild(children, url) !== undefined;\n\t},\n\n\t/** Re-render children with a new URL to match against. */\n\trouteTo(url) {\n\t\tthis.setState({ url });\n\n\t\tconst didRoute = this.canRoute(url);\n\n\t\t// trigger a manual re-route if we're not in the middle of an update:\n\t\tif (!this._updating) this.forceUpdate();\n\n\t\treturn didRoute;\n\t},\n\n\tcomponentWillMount() {\n\t\tthis._updating = true;\n\t},\n\n\tcomponentDidMount() {\n\t\tinitEventListeners();\n\t\tROUTERS.push(this);\n\t\tif (customHistory) {\n\t\t\tthis._unlisten = customHistory.listen(action => {\n\t\t\t\tlet location = action.location || action;\n\t\t\t\tthis.routeTo(`${location.pathname || ''}${location.search || ''}`);\n\t\t\t});\n\t\t}\n\t\tthis._updating = false;\n\t},\n\n\tcomponentWillUnmount() {\n\t\tif (typeof this._unlisten === 'function') this._unlisten();\n\t\tROUTERS.splice(ROUTERS.indexOf(this), 1);\n\t},\n\n\tcomponentWillUpdate() {\n\t\tthis._updating = true;\n\t},\n\n\tcomponentDidUpdate() {\n\t\tthis._updating = false;\n\t},\n\n\t_getMatchingChild(children, url) {\n\t\tchildren = children.filter(prepareVNodeForRanking).sort(pathRankSort);\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tlet vnode = children[i];\n\t\t\tlet matches = exec(url, vnode.props.path, vnode.props);\n\t\t\tif (matches) return [vnode, matches];\n\t\t}\n\t},\n\n\trender({ children, onChange }, { url }) {\n\t\tlet ctx = this._contextValue;\n\n\t\tlet active = this._getMatchingChild(toChildArray(children), url);\n\t\tlet matches, current;\n\t\tif (active) {\n\t\t\tmatches = active[1];\n\t\t\tcurrent = cloneElement(\n\t\t\t\tactive[0],\n\t\t\t\tassign(assign({ url, matches }, matches), {\n\t\t\t\t\tkey: undefined,\n\t\t\t\t\tref: undefined\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\tif (url !== (ctx && ctx.url)) {\n\t\t\tlet newCtx = {\n\t\t\t\turl,\n\t\t\t\tprevious: ctx && ctx.url,\n\t\t\t\tcurrent,\n\t\t\t\tpath: current ? current.props.path : null,\n\t\t\t\tmatches\n\t\t\t};\n\n\t\t\t// only copy simple properties to the global context:\n\t\t\tassign(GLOBAL_ROUTE_CONTEXT, (ctx = this._contextValue = newCtx));\n\n\t\t\t// these are only available within the subtree of a Router:\n\t\t\tctx.router = this;\n\t\t\tctx.active = current ? [current] : [];\n\n\t\t\t// notify useRouter subscribers outside this subtree:\n\t\t\tfor (let i = SUBS.length; i--; ) SUBS[i]({});\n\n\t\t\tif (typeof onChange === 'function') {\n\t\t\t\tonChange(ctx);\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<RouterContext.Provider value={ctx}>{current}</RouterContext.Provider>\n\t\t);\n\t}\n});\n\nconst Link = props => h('a', assign({ onClick: delegateLinkHandler }, props));\n\nconst Route = props => h(props.component, props);\n\nexport { getCurrentUrl, route, Router, Route, Link, exec, useRouter };\nexport default Router;\n","import { useState, useEffect } from \"preact/hooks\";\r\nimport { Fragment } from \"preact\";\r\nimport { route } from \"preact-router\";\r\n\r\nimport style from \"./PostView.css\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport WelcomePost from \"../WelcomePost/WelcomePost\";\r\n\r\nexport default function PostView({ activePostId, isPostRead, updatePostRead }) {\r\n    const [post, setPost] = useState(null);\r\n    const [fetchRequestCount, setFetchRequestCount] = useState(0);\r\n\r\n    const setPostIfExists = async (postId) => {\r\n        setFetchRequestCount(prev => prev + 1);\r\n        return fetch(`/api/posts?id=${postId}`)\r\n            .then((res) => res.json())\r\n            .then((post) => {\r\n                if (post?.content_html) {\r\n                    setPost(post);\r\n                }\r\n                else {\r\n                    route(\"/\");\r\n                }\r\n                setFetchRequestCount(prev => prev - 1);\r\n            });\r\n    }\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n    }, [post]);\r\n\r\n    useEffect(() => {\r\n        if (activePostId) {\r\n            setPostIfExists(activePostId);\r\n        }\r\n        else {\r\n            setPost(null);\r\n        }\r\n    }, [activePostId]);\r\n\r\n    const handleToggleButtonClick = () => {\r\n        updatePostRead(post.id, !isPostRead);\r\n    };\r\n\r\n    return (\r\n        <main\r\n            inert={fetchRequestCount > 0}\r\n            class={style[\"post-view\"]}\r\n        >\r\n            <Loader isLoading={fetchRequestCount > 0} />\r\n            {!post ? <WelcomePost /> :\r\n                <Fragment>\r\n                    <div>\r\n                        <h1 dangerouslySetInnerHTML={{ __html: post.title_html }} />\r\n                        { /** Unfortunately, Fragments don't support dangerouslySetInnerHTML */}\r\n                        <div dangerouslySetInnerHTML={{ __html: post.content_html }} />\r\n                        <div class={style[\"post-footer\"]}>\r\n                            <button\r\n                                class={\"btn\" + (isPostRead ? \"\" : \" btn-primary\")}\r\n                                onClick={handleToggleButtonClick}>\r\n                                {isPostRead ? \"Mark Unread\" : \"Mark Read\"}\r\n                            </button>\r\n                            <a rel=\"noopener\" target=\"_blank\" href={post.link}>Original source (opens in new window)</a>\r\n                        </div>\r\n                    </div>\r\n                </Fragment>\r\n            }\r\n        </main>\r\n    );\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"loader__Ryvqc\",\"is-loading\":\"is-loading__QiBqs\"};","// extracted by mini-css-extract-plugin\nexport default {\"post-view\":\"post-view__-5TS0\",\"post-footer\":\"post-footer__9ziVx\"};","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"section__ywvNu\"};","import { Router, route } from \"preact-router\";\n\nimport \"./styles/typography.css\";\nimport \"./styles/index.css\";\n\nimport Home from \"./components/Home/Home\";\nimport { useEffect } from \"preact/hooks\";\n\nexport default function App() {\n  const onRouteChange = e => {\n    /**\n     * We can't overwrite localstorage if this is initial navigation. \n     * If we overwrite here, then we'll change localStorage before\n     * the useEffect handler can get to it. It should be okay if the\n     * user explicitly specified a post on initial navigation, though.\n     */\n    if (e.previous || e.matches.postId) {\n      localStorage.setItem(\"lastVisitedPostId\", e.matches.postId);\n    }\n  }\n\n  useEffect(() => {\n    const lastVisitedPostId = localStorage.getItem(\"lastVisitedPostId\");\n    if (lastVisitedPostId) {\n      route(\"/\" + lastVisitedPostId);\n    }\n  }, []);\n\n  return (\n    <Router onChange={onRouteChange}>\n      <Home path=\"/:postId?\" />\n    </Router>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"posts\":\"posts__dCL1X\"};","module.exports = require(\"preact\");","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {import('./internal').Component} */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet EMPTY = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\tif (previousComponent === currentComponent) {\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentComponent._renderCallbacks = [];\n\t\t\thooks._list.forEach(hookItem => {\n\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t}\n\t\t\t\thookItem._pendingValue = EMPTY;\n\t\t\t\thookItem._nextValue = hookItem._pendingArgs = undefined;\n\t\t\t});\n\t\t} else {\n\t\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentIndex = 0;\n\t\t}\n\t}\n\tpreviousComponent = currentComponent;\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tif (c.__hooks._pendingEffects.length) afterPaint(afterPaintEffects.push(c));\n\t\tc.__hooks._list.forEach(hookItem => {\n\t\t\tif (hookItem._pendingArgs) {\n\t\t\t\thookItem._args = hookItem._pendingArgs;\n\t\t\t}\n\t\t\tif (hookItem._pendingValue !== EMPTY) {\n\t\t\t\thookItem._value = hookItem._pendingValue;\n\t\t\t}\n\t\t\thookItem._pendingArgs = undefined;\n\t\t\thookItem._pendingValue = EMPTY;\n\t\t});\n\t}\n\tpreviousComponent = currentComponent = null;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tc.__hooks = undefined;\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({ _pendingValue: EMPTY });\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst currentValue = hookState._nextValue\n\t\t\t\t\t? hookState._nextValue[0]\n\t\t\t\t\t: hookState._value[0];\n\t\t\t\tconst nextValue = hookState._reducer(currentValue, action);\n\n\t\t\t\tif (currentValue !== nextValue) {\n\t\t\t\t\thookState._nextValue = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\n\t\tif (!currentComponent._hasScuFromHooks) {\n\t\t\tcurrentComponent._hasScuFromHooks = true;\n\t\t\tlet prevScu = currentComponent.shouldComponentUpdate;\n\t\t\tconst prevCWU = currentComponent.componentWillUpdate;\n\n\t\t\t// If we're dealing with a forced update `shouldComponentUpdate` will\n\t\t\t// not be called. But we use that to update the hook values, so we\n\t\t\t// need to call it.\n\t\t\tcurrentComponent.componentWillUpdate = function (p, s, c) {\n\t\t\t\tif (this._force) {\n\t\t\t\t\tlet tmp = prevScu;\n\t\t\t\t\t// Clear to avoid other sCU hooks from being called\n\t\t\t\t\tprevScu = undefined;\n\t\t\t\t\tupdateHookState(p, s, c);\n\t\t\t\t\tprevScu = tmp;\n\t\t\t\t}\n\n\t\t\t\tif (prevCWU) prevCWU.call(this, p, s, c);\n\t\t\t};\n\n\t\t\t// This SCU has the purpose of bailing out after repeated updates\n\t\t\t// to stateful hooks.\n\t\t\t// we store the next value in _nextValue[0] and keep doing that for all\n\t\t\t// state setters, if we have next states and\n\t\t\t// all next states within a component end up being equal to their original state\n\t\t\t// we are safe to bail out for this specific component.\n\t\t\t/**\n\t\t\t *\n\t\t\t * @type {import('./internal').Component[\"shouldComponentUpdate\"]}\n\t\t\t */\n\t\t\t// @ts-ignore - We don't use TS to downtranspile\n\t\t\t// eslint-disable-next-line no-inner-declarations\n\t\t\tfunction updateHookState(p, s, c) {\n\t\t\t\tif (!hookState._component.__hooks) return true;\n\n\t\t\t\tconst stateHooks = hookState._component.__hooks._list.filter(\n\t\t\t\t\tx => x._component\n\t\t\t\t);\n\t\t\t\tconst allHooksEmpty = stateHooks.every(x => !x._nextValue);\n\t\t\t\t// When we have no updated hooks in the component we invoke the previous SCU or\n\t\t\t\t// traverse the VDOM tree further.\n\t\t\t\tif (allHooksEmpty) {\n\t\t\t\t\treturn prevScu ? prevScu.call(this, p, s, c) : true;\n\t\t\t\t}\n\n\t\t\t\t// We check whether we have components with a nextValue set that\n\t\t\t\t// have values that aren't equal to one another this pushes\n\t\t\t\t// us to update further down the tree\n\t\t\t\tlet shouldUpdate = false;\n\t\t\t\tstateHooks.forEach(hookItem => {\n\t\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\t\tconst currentValue = hookItem._value[0];\n\t\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t\t\thookItem._nextValue = undefined;\n\t\t\t\t\t\tif (currentValue !== hookItem._value[0]) shouldUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn shouldUpdate || hookState._component.props !== p\n\t\t\t\t\t? prevScu\n\t\t\t\t\t\t? prevScu.call(this, p, s, c)\n\t\t\t\t\t\t: true\n\t\t\t\t\t: false;\n\t\t\t}\n\n\t\t\tcurrentComponent.shouldComponentUpdate = updateHookState;\n\t\t}\n\t}\n\n\treturn hookState._nextValue || hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tref(createHandle());\n\t\t\t\treturn () => ref(null);\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => (ref.current = null);\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._pendingValue = factory();\n\t\tstate._pendingArgs = args;\n\t\tstate._factory = factory;\n\t\treturn state._pendingValue;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any, errorInfo: import('preact').ErrorInfo) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = (err, errorInfo) => {\n\t\t\tif (state._value) state._value(err, errorInfo);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\nexport function useId() {\n\tconst state = getHookState(currentIndex++, 11);\n\tif (!state._value) {\n\t\t// Grab either the root node or the nearest async boundary node.\n\t\t/** @type {import('./internal.d').VNode} */\n\t\tlet root = currentComponent._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\tlet mask = root._mask || (root._mask = [0, 0]);\n\t\tstate._value = 'P' + mask[0] + '-' + mask[1]++;\n\t}\n\n\treturn state._value;\n}\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom || !component.__hooks) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n","import style from \"./Loader.css\"\r\n\r\nexport default function Loader({ isLoading }) {\r\n    return (\r\n        <div class={style.loader + (isLoading ? \" \" + style[\"is-loading\"] : \"\")}>\r\n            {/* By Sam Herbert (@sherb), for everyone. More @ http://goo.gl/7AJzbL */}\r\n            <svg width=\"45\" height=\"45\" viewBox=\"0 0 45 45\" xmlns=\"http://www.w3.org/2000/svg\" stroke=\"#fff\">\r\n                <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\" stroke-width=\"2\">\r\n                    <circle cx=\"22\" cy=\"22\" r=\"6\" stroke-opacity=\"0\">\r\n                        <animate attributeName=\"r\"\r\n                            begin=\"1.5s\" dur=\"3s\"\r\n                            values=\"6;22\"\r\n                            calcMode=\"linear\"\r\n                            repeatCount=\"indefinite\" />\r\n                        <animate attributeName=\"stroke-opacity\"\r\n                            begin=\"1.5s\" dur=\"3s\"\r\n                            values=\"1;0\" calcMode=\"linear\"\r\n                            repeatCount=\"indefinite\" />\r\n                        <animate attributeName=\"stroke-width\"\r\n                            begin=\"1.5s\" dur=\"3s\"\r\n                            values=\"2;0\" calcMode=\"linear\"\r\n                            repeatCount=\"indefinite\" />\r\n                    </circle>\r\n                    <circle cx=\"22\" cy=\"22\" r=\"6\" stroke-opacity=\"0\">\r\n                        <animate attributeName=\"r\"\r\n                            begin=\"3s\" dur=\"3s\"\r\n                            values=\"6;22\"\r\n                            calcMode=\"linear\"\r\n                            repeatCount=\"indefinite\" />\r\n                        <animate attributeName=\"stroke-opacity\"\r\n                            begin=\"3s\" dur=\"3s\"\r\n                            values=\"1;0\" calcMode=\"linear\"\r\n                            repeatCount=\"indefinite\" />\r\n                        <animate attributeName=\"stroke-width\"\r\n                            begin=\"3s\" dur=\"3s\"\r\n                            values=\"2;0\" calcMode=\"linear\"\r\n                            repeatCount=\"indefinite\" />\r\n                    </circle>\r\n                    <circle cx=\"22\" cy=\"22\" r=\"8\">\r\n                        <animate attributeName=\"r\"\r\n                            begin=\"0s\" dur=\"1.5s\"\r\n                            values=\"6;1;2;3;4;5;6\"\r\n                            calcMode=\"linear\"\r\n                            repeatCount=\"indefinite\" />\r\n                    </circle>\r\n                </g>\r\n            </svg>\r\n        </div>\r\n    );\r\n}","import { useEffect, useRef } from \"preact/hooks\";\r\nimport style from \"./PostListItem.css\";\r\n\r\nexport default function PostListItem({ post, isActive, isRead }) {\r\n    const linkRef = useRef();\r\n    let className = style[\"post-item\"];\r\n\r\n    const scrollIntoViewIfNeeded = (target) => {\r\n        if (target.getBoundingClientRect().bottom > window.innerHeight) {\r\n            target.scrollIntoView(false);\r\n        }\r\n\r\n        if (target.getBoundingClientRect().top < 0) {\r\n            target.scrollIntoView();\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isActive) {\r\n            if (linkRef?.current) scrollIntoViewIfNeeded(linkRef?.current);\r\n        }\r\n    }, [isActive])\r\n\r\n    if (isActive) {\r\n        className += \" \" + style[\"post-item--active\"];\r\n    };\r\n    if (isRead) className += \" \" + style[\"post-item--read\"];\r\n\r\n    return (\r\n        <li\r\n            id={post.id}\r\n            className={className}\r\n            ref={linkRef}\r\n        >\r\n            <a\r\n                href={`/${post.id || \"\"}`}\r\n                dangerouslySetInnerHTML={{ __html: post.title_html.replace(\"Tip of the Week \", \"Tip \") }}\r\n            />\r\n            <div className={style[\"svg-container\"]}>\r\n                {isRead &&\r\n                    <svg viewBox=\"0 0 101 98.7\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path class={style.draw} d=\"M93.7 66.9H51v87.9h91V66.1h-17.8l-37.4 64.8-19-18.9-2.8 3.6 23.3 22.5L128 69.5h10.4v80.6H55.1V70.5h42V67z\" stroke-opacity=\"1\" transform=\"translate(-46 -61)\" />\r\n                    </svg>\r\n                }\r\n            </div>\r\n        </li>\r\n    );\r\n}","import { useState, useEffect } from \"preact/hooks\";\r\nimport style from \"./PostListBox.css\";\r\n\r\nimport PostListItem from \"../PostListItem/PostListItem\";\r\nimport { Fragment } from \"preact\";\r\nimport Loader from \"../Loader/Loader\";\r\n\r\nexport default function PostListBox({ activePostId, readPosts }) {\r\n  const [posts, setPosts] = useState([{ id: 0, title_html: \"Home\" }]);\r\n\r\n  useEffect(() => {\r\n    fetch(\"/api/posts\")\r\n      .then((res) => res.json())\r\n      .then((fetchedPosts) => setPosts([...posts, ...fetchedPosts]));\r\n  }, []);\r\n\r\n  return (\r\n    <Fragment>\r\n      <Loader isLoading={posts.length === 1} />\r\n      <ul class={style.posts}>\r\n        {posts.length > 1 && posts.map(post =>\r\n          <PostListItem\r\n            key={post.id}\r\n            post={post}\r\n            isActive={post.id === activePostId}\r\n            isRead={readPosts[post.id]}\r\n          />\r\n        )}\r\n      </ul>\r\n    </Fragment>\r\n  );\r\n}","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport default {\"post-item\":\"post-item__P+Pus\",\"post-item--active\":\"post-item--active__YYrm3\",\"svg-container\":\"svg-container__LBM2P\",\"draw\":\"draw__UFhOn\",\"dash\":\"dash__dc5fN\"};","import { Fragment } from 'preact';\r\nimport { useState } from 'preact/hooks';\r\n\r\nimport PostListBox from \"../PostListBox/PostListBox\";\r\nimport PostView from \"../PostView/PostView\";\r\n\r\nexport default function Home({ matches }) {\r\n    const activePostId = Number(matches.postId);\r\n    const [readPosts, setReadPosts] = useState(\r\n        typeof window !== \"undefined\" && localStorage.getItem(\"readPosts\") ? JSON.parse(localStorage.getItem(\"readPosts\")) : {}\r\n    );\r\n\r\n    const updatePostRead = (postId, isRead) => {\r\n        const readPostsCopy = { ...readPosts };\r\n        if (isRead) {\r\n            readPostsCopy[postId] = true;\r\n        }\r\n        else {\r\n            delete readPostsCopy[postId];\r\n        }\r\n        setReadPosts(readPostsCopy)\r\n        if (typeof window !== \"undefined\") {\r\n            localStorage.setItem(\"readPosts\", JSON.stringify(readPostsCopy));\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <PostListBox\r\n                activePostId={activePostId}\r\n                readPosts={readPosts}\r\n            />\r\n            <PostView\r\n                activePostId={activePostId}\r\n                updatePostRead={updatePostRead}\r\n                isPostRead={readPosts[activePostId]}\r\n            />\r\n        </Fragment>\r\n    );\r\n}\r\n","import { Fragment } from \"preact\";\r\nimport style from \"./WelcomePost.css\";\r\n\r\nexport default function WelcomePost() {\r\n    return (\r\n        <Fragment>\r\n            <h1>Hello! This is a frontend wrapper around <a href=\"https://abseil.io/tips/\">Abseil's C++ tips of the week</a> that augments its reading experience.</h1>\r\n            <span>This isn't an official website affiliated with the Abseil library, just a random side project of mine.</span>\r\n            <div className={style.section}>\r\n                <h2>This website: </h2>\r\n                <ul>\r\n                    <li>Let's you mark what posts you have or haven't read so you don't waste time finding something new.</li>\r\n                    <li>Saves off the post you last had open as well as what posts you've already read in <code>localstorage</code>.</li>\r\n                    <li>Marks bad code with explicit \"Bad code\" text instead of just using color to pass <a href=\"https://www.w3.org/WAI/WCAG21/Understanding/use-of-color.html\">WCAG Use of Color</a>.</li>\r\n                    <li>Is lighter on bandwidth than the original. Not that the former was bloated, I just like seeing how small I can get a website.</li>\r\n                </ul>\r\n            </div>\r\n            <div className={style.section}>\r\n                <h2>If you want, you can create an account to: </h2>\r\n                <ul>\r\n                    <li>Sync your history across devices.</li>\r\n                    <li>Configure email reminders that send you a random post you haven't read yet.</li>\r\n                </ul>\r\n                I don't sell data, pinkie promise  (and I'm too lazy to figure out how to do that anyway).\r\n            </div>\r\n            <div className={style.section}>\r\n                <h2>Accessibility Considerations</h2>\r\n                <p>I aim to satisfy WCAG 2.1 Level AA, although I'm not against satisfying Level AAA if someone needs it. Since this is a personal project, full disclaimer: </p>\r\n                <ul>\r\n                    <li>I'm probably not going to pay to get it professional vouched by a third party.</li>\r\n                    <li>I haven't done any user testing. I'm able-bodied in every way, so there goes my input.</li>\r\n                </ul>\r\n                <p>\r\n                    On the bright side, what I do have going for me is that I've done professional accessibility work before, so hopefully this app isn't a complete trainwreck! I'm going to list my considerations below, but if there's something I haven't considered or if you find an issue please do reach out on the <a href=\"https://github.com/sivakusayan/abseil-roadmap/issues\">issues page</a>.\r\n                </p>\r\n                <h3>Keyboard navigation</h3>\r\n                <h3>Screen readers</h3>\r\n                <h3>Voice assistants</h3>\r\n                <p>For sighted voice assistant users, all interactive elements should have the same accessible name as their visual text. In other words, you can speak what you see to activate something. Assuming there isn't some kind of weird interoperability bug, anyway.\r\n                </p>\r\n                <p>\r\n                    I don't have access to all types of voice assistants, so if you find an issue on my site when using your program, please do <a href=\"https://github.com/sivakusayan/abseil-roadmap/issues\">let me know</a>.\r\n                </p>\r\n            </div>\r\n        </Fragment >\r\n    );\r\n}"],"sourceRoot":""}